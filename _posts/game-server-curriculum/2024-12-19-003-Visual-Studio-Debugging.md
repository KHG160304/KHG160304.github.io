---
title: (3) Visual Studio 디버깅
excerpt: Visual Studio 디버깅 창 설명
categories: 
  - 게임서버 과정
permalink: /game-server-curriculum/:title
toc: true
toc_sticky: true
typora-root-url: ../../
---

## 디버깅할 때 표시되는 창

Visual Studio 에서 우리가 작성한 코드를 Break Point를 잡고 디버깅 모드로 빌드한 경우, 사용할 수 있는 유용한 기능들에 대한 설명

### 조사식 창

현재 실행 중인 함수의 지역 변수, 전역 변수에 저장된 정보를 표시합니다.
정보 확인을 원하는 변수를 작성하여 넣을 수 있습니다.

### 메모리 창

메모리 공간을 1 byte 단위의 주소로 나열하여 저장된 정보를 16진수(Hex) 형태의 값으로 표시합니다.
특정 주소를 입력하면, 해당 주소의 메모리에 저장된 정보를 확인할 수 있습니다.

#### 메모리 창 읽는 방법

스택 메모리에 데이터가 쌓이는 모양은, 주소값이 높은 위치의 메모리에서 낮은 위치의 메모리로 쌓입니다.
특정 변수의 값이 메모리에 쓰일 때는, 먼저 스택의 빈 공간에서 주소값이 가장 높은 위치에서부터 데이터 크기만큼 공간을 확보한 뒤 낮은 주소에서부터 높은 주소로 데이터를 작성합니다. (CPU는 워드(32bit) 단위로 메모리 주소를 검색하기에 메모리 확보할 때 패딩이 생길 수 있습니다.)

#### 리틀 엔디안

특정 데이터를 메모리에 쓸 때, 데이터의 하위 비트부터 메모리에 쓰는 방식입니다.
리틀 엔디안은 우리가 숫자끼리 계산할 때 작은 자릿수부터 큰 자릿수로 계산해 나가는 방식과 동일합니다.

#### 빅 엔디안

특정 데이터를 메모리에 쓸 때, 데이터의 상위 비트부터 메모리에 쓰는 방식입니다.
빅 엔디안은 사람이 숫자를 읽을 때 큰 자릿수 먼저 읽는 방식과 동일합니다.

> 우리는 보통 리틀 엔디안을 많이 사용합니다. 빅 엔디안보다 연산할 때 더 편한 방식이기 때문입니다.

#### 스택 메모리를 효율적으로 사용하는 방법

레지스터는 매우 비싼 자원이며 모든 스레드가 공유합니다. 레지스터는 현재 함수에서 필요로하는 데이터를 저장해야 합니다. 함수를 계층적으로 호출할 때, 함수마다 메모리에 스택 공간이 생성됩니다. 이전 함수에서 사용되던 값이 현재 실행중인 함수의 스택 공간에 백업되는 경우가 있는데, 이것은 불필요한 행위임으로, 이전 함수의 스택으로 돌아갔을 때 필요한 값이라면 이전 함수의 스택에 백업을 해두는 것이 옳습니다.

### 디스어셈블리 창

기계어 코드(바이너리 코드)를 어셈블리어로 번역하여 보여줍니다.
C, C++ 코드가 정확히 어떻게 동작하는지 확인할 수 있습니다.

### 명령어 길이에 따른 컴퓨터 시스템 분류

한번에 처리할 수 있는 명령어의 단위에 따라서 64bit 시스템, 32bit 시스템 등등으로 분류됩니다.
64bit 이면 레지스터의 크기 및 BUS 시스템에서 한번에 이동 가능한 데이터의 크기가 64bit인 것을 뜻 합니다.
그리고 시스템이 인식하고 활용할 수 있는 메모리의 범위도 2^64 승 만큼 활용할 수 있습니다.

#### 명령어 단위에 따른 레지스터 명칭 변화

| 8bit | 16bit | 32bit | 64bit |
| ---- | ----- | ----- | ----- |
| a    | ax    | eax   | rax   |

### 호출스택 창

어떤 함수가 어떤 함수를 실행했는지를 계층적으로 표시합니다.

### C언어 런타임

- 우리가 Visual C++ 컴파일러로 생성한 프로그램을 실행시켜주는 환경을 보통 얘기합니다.
- 프로그램이 실행될 때, C언어 런타임이 먼저 실행되고 그 위에서 invoke main 이라는 함수를 통해 ㅡ프로그램의 main 함수를 실행합니다.

## 관련 질문

- 조사식 창에서 할 수 있는 일은 무엇인가요?
- 메모리 창에서 할 수 있는 일은 무엇인가요?
- 메모리 창을 읽는 방법에 대해서 알고있나요?
- 스택 메모리에 데이터를 적재할 때 공간을 확보하는 방법에 대해서 알고있나요?
- 메모리 정렬(memory alignment)에 관해서 설명할 수 있나요?
- 리틀 엔디안과 빅 엔디안에 관해서 설명할 수 있나요?
- 디스어셈블리 창을 보고 어셈블리 코드를 읽을 수 있나요?
- 호출스택 창에서 할수 있는 일은 무엇인가요?
- C언어 런타임이란 무엇인가요?
- 지역 변수를 메모리에 많이 할당하면 프로그램의 속도에 커다란 영향을 미칠 수 있을까요?
